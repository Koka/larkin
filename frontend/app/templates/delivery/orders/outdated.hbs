<h3 class="noselect">
  Outdated and invalid order list
  <button class="ui mini right floated labeled icon positive button" {{action 'showNormalOrders'}}>
      <i class="alarm mute icon"></i>Back to normal orders
  </button>
</h3>

<div class="ui message">
  <div class="header">
    Outdated and invalid orders
  </div>
  <p>
    You can fix the orders listed below and make them eligible for further processing by
    pressing 'Reschedule for tomorrow' button on each order row that you want to reschedule.
  </p>
  <p>
    If the order data is invalid (highlited in red), press the edit button to fix order data.
  </p>
</div>

<table class="ui very basic {{if model.length 'selectable'}} compact celled table">
  <thead>
    <tr>
      <th>Delivery date</th>
      <th>Delivery shift</th>
      <th>Purchase order</th>
      <th>Type</th>
      <th>Client name</th>
      <th>Phone number</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {{#each model as |order|}}
      <tr class="{{if (eq order.type 'Return') 'warning'}} {{unless order.isValid 'error'}}">
        <td>
          {{order.deliveryDate}}
        </td>
        <td>{{order.deliveryShift}}</td>
        <td>{{order.purchaseOrderNumber}}</td>
        <td>{{order.type}}</td>
        <td>
          {{#if (eq order.type 'Return')}}
            {{order.originName}}
          {{else}}
            {{order.clientName}}
          {{/if}}
        </td>
        <td>{{order.phoneNumber}}</td>
        <td>
          <button class="ui icon button {{unless order.isValid 'disabled'}}" {{action 'rescheduleOrder' order}} title="Reschedule for tomorrow">
              <i class="add to calendar icon"></i>
          </button>
          <button class="ui icon button" {{action 'editOrder' order}} title="Edit order">
              <i class="edit icon"></i>
          </button>
        </td>
      </tr>
    {{else}}
      <tr><td colspan="7" class="empty-table-message">Good job! No outdated orders!</td></tr>
    {{/each}}
  </tbody>
</table>
